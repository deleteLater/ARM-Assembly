# ARM寻址方式(9种)
参考: https://www.cnblogs.com/laojie4321/archive/2012/04/05/2432957.html

## 立即数寻址(要求合法立即数)
| Instruction       | Meaning         |
| ----------------- | --------------- |
| MOV R0,#64        | R0  ← 64        |
| ADD R0, R0, #1    | R0  ← R0 + 1    |
| SUB R0, R0, #0X3D | R0  ← R0 – 0X3D |

## 寄存器直接寻址
| Instruction    | Meaning       |
| -------------- | ------------- |
| ADD R0, R1, R2 | R0  ← R1 + R2 |

## 寄存器间接寻址
| Instruction      | Meaning        |
| ---------------- | -------------- |
| LDR R0,[R1]      | R0 ←[R1]       |
| ADD R0, R1, [R2] | R0 ← R1 + [R2] |

## 寄存器偏移寻址
| Instruction        | Meaning     |
| ------------------ | ----------- |
| MOV R0,R2, LSL  #3 | R0 ← R2 * 8 |

## 寄存器基址变址寻址
| Instruction       | Meaning                  |
| ----------------- | ------------------------ |
| LDR R0, [R1,#4]   | R0 ←[R1 + 4]             |
| LDR R0, [R1,#4]!  | R0 ←[R1 + 4], R1 ←R1 + 4 |
| LDR R0, [R1,R2]   | R0 ←[R1 + R2]            |
| STR R0, [R1,#－4] | R0 →[R1 - 4]             |
| LDR R0, [R1],#4   | R0 ←[R1]、R1 ←R1+4       |

## 多寄存器寻址(一次完成多个寄存器值的传送)
| Instruction             | Meaning                                |
| ----------------------- | -------------------------------------- |
| LDMIA  R0,{R1,R2,R3,R4} | R1←[R0],R2←[R0+4],R3←[R0+8],R4←[R0+12] |

## 相对寻址
特殊的基址寻址，特殊性是它把程序计数器PC中的当前值作为基地址，语句中的地址标号作为偏移量，将两者相加之后得到操作数的地址

BL   NEXT  ;相对寻址,跳转到NEXT处执行。
……

NEXT
……

## 堆栈寻址 (数据的存取是面向堆栈的)
| Instruction             | Meaning                             |
| ----------------------- | ----------------------------------- |
| STMFD  SP!, {R1-R7, LR} | push R1-R7, LR to stack             |
| LDMED  SP!, {R1-R7, LR} | 将堆栈中的数据取回到R1－R7,LR寄存器 |

## 块拷贝寻址 (寄存器数据的批量复制, 数据的存取是面向寄存器指向的存储单元的)
| Instruction        | Meaning                  |
| ------------------ | -------------------------|
| STMIA  R0!,{R1—R7} | 将R1－R7的数据保存到R0指向的存储器中，存储器指针在保存第一个值之后(After)增加4，向上增长。R0作为基址寄存器             |
| STMIB  R0!,{R1—R7} | 将R1－R7的数据保存到R0指向的存储器中，存储器指针在保存第一个值之前(Before)增加4，向上增长。R0作为基址寄存器            |
| STMDA  R0!,{R1—R7} | 将R1－R7的数据保存到R0指向的存储器中，存储器指针在保存第一个值之后(After)增加4，向下(Decrement)增长。R0作为基址寄存器  |
| STMDB  R0!,{R1—R7} | 将R1－R7的数据保存到R0指向的存储器中，存储器指针在保存第一个值之前(Before)增加4，向下(Decrement)增长。R0作为基址寄存器 |